JMM

* 堆
* 栈
* 方法域
  * 常量池
  * 代码区
  * 类元数据区
* native区

## 线程私有

1. stack 虚拟机栈（栈帧）

   每个方法执行时创建栈帧，每个栈帧中包含：局部变量、操作数栈、动态连接、返回地址

   * 局部变量表： 方法当前所有变量

   * 操作数栈：入栈、出栈、复制、交换、产生消费变量

   * ![image-20220316162057226](C:\Users\hunter\AppData\Roaming\Typora\typora-user-images\image-20220316162057226.png)

     其中：

     * istore_x表示把操作栈顶的数据放到第x个局部变量
     * iload_x表示把第x个局部变量压入操作栈顶
     * ireturn 返回操作栈顶元数

2. program counter 程序计数器

   永远指向下一条要执行的虚拟机指令

   jvm通过改变程序计数器选择一条指令交给JIT执行

3. 本地方法栈

## 线程共享

1. metaspace 类加载信息

   存在于本机内存而不是堆

2. 常量池

3. 堆

   对象实例分配的区域

## 常见问题

* -xss: 规定了每个线程虚拟机栈的大小（栈帧大小）
* -xms:    堆的初始值
* -xmx： 堆的最大值
* 



​	